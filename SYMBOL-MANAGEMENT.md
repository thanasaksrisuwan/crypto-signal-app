# Symbol Management via Environment Variables

Crypto Signal App สามารถกำหนดสัญลักษณ์คริปโตที่จะติดตามผ่านตัวแปรสภาพแวดล้อม (Environment Variables) ได้โดยง่าย

## วิธีกำหนดสัญลักษณ์

มี 3 วิธีในการกำหนดและจัดการสัญลักษณ์คริปโต:

### 1. ผ่านหน้า UI

1. ไปที่เมนู "การตั้งค่า" ในแอปพลิเคชัน
2. เลื่อนลงไปที่ส่วน "จัดการสัญลักษณ์คู่เทรด"
3. คุณสามารถเพิ่มสัญลักษณ์ใหม่หรือลบสัญลักษณ์ที่มีอยู่ได้
4. การเปลี่ยนแปลงจะมีผลทันทีและถูกบันทึกลงในไฟล์ `.env` โดยอัตโนมัติ

### 2. ใช้เครื่องมือบนคอมมานด์ไลน์

เราได้จัดเตรียมสคริปต์ `crypto-symbol-manager.bat` สำหรับจัดการสัญลักษณ์ผ่านคอมมานด์ไลน์:

```bash
# แสดงรายการสัญลักษณ์ทั้งหมด
crypto-symbol-manager.bat list

# เพิ่มสัญลักษณ์ใหม่
crypto-symbol-manager.bat add DOGEUSDT

# ลบสัญลักษณ์
crypto-symbol-manager.bat remove ETHUSDT

# แสดงวิธีใช้งาน
crypto-symbol-manager.bat help
```

หมายเหตุ: แอปพลิเคชัน Backend API ต้องทำงานอยู่เพื่อให้สามารถใช้คำสั่งนี้ได้

### 3. แก้ไขไฟล์ .env โดยตรง

1. เปิดไฟล์ `.env` ในโฟลเดอร์หลักของแอปพลิเคชัน
2. แก้ไขบรรทัด `AVAILABLE_SYMBOLS=[รายการสัญลักษณ์]`
3. กรอกรายการสัญลักษณ์ที่ต้องการติดตาม คั่นด้วยเครื่องหมายคอมม่า (,)
4. บันทึกไฟล์และรีสตาร์ทแอปพลิเคชัน

ตัวอย่าง:
```
AVAILABLE_SYMBOLS=BTCUSDT,ETHUSDT,ADAUSDT,DOGEUSDT,XRPUSDT
```

## ข้อกำหนดของสัญลักษณ์

- สัญลักษณ์ต้องอยู่ในรูปแบบ `[ชื่อเหรียญ]USDT` เช่น `BTCUSDT`, `ETHUSDT`
- ต้องมีอย่างน้อย 1 สัญลักษณ์เสมอ
- ระบบจะจัดการให้ชื่อสัญลักษณ์เป็นตัวพิมพ์ใหญ่โดยอัตโนมัติ

## API สำหรับจัดการสัญลักษณ์

นอกจากการใช้งานผ่าน UI แล้ว คุณสามารถจัดการสัญลักษณ์ผ่าน API ได้โดยตรง:

### ดึงรายการสัญลักษณ์ทั้งหมด

```
GET /api/symbols
```

### เพิ่มสัญลักษณ์ใหม่

```
POST /api/symbols/add
Content-Type: application/json

{
  "symbol": "BTCUSDT"
}
```

### ลบสัญลักษณ์

```
POST /api/symbols/remove
Content-Type: application/json

{
  "symbol": "BTCUSDT"
}
```

## ทดสอบระบบจัดการสัญลักษณ์

เราได้จัดเตรียมสคริปต์ทดสอบสำหรับตรวจสอบการทำงานของระบบจัดการสัญลักษณ์:

```bash
cd app
python test_symbol_management.py
```

สคริปต์จะทำการทดสอบ:
1. ดึงรายการสัญลักษณ์ปัจจุบัน
2. เพิ่มสัญลักษณ์ใหม่ (DOGEUSDT, XRPUSDT, SOLUSDT)
3. ลบสัญลักษณ์ที่เพิ่มไป
4. คืนค่ากลับสู่สถานะเริ่มต้น

## ข้อควรระวัง

1. การเพิ่มหรือลบสัญลักษณ์จะทำให้ระบบรีสตาร์ท WebSocket client และอาจทำให้ข้อมูลขาดหายไปชั่วขณะ
2. ตรวจสอบให้แน่ใจว่าสัญลักษณ์ที่เพิ่มมีอยู่บน Binance จริง
3. การเพิ่มสัญลักษณ์จำนวนมากเกินไปอาจทำให้ประสิทธิภาพของระบบลดลง ควรพิจารณาความเหมาะสมตามทรัพยากรของระบบ
